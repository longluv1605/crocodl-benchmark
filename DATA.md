## Data
This readme file will hel you understand our data in more detail. We will separate this section in three parts. First one is raw data and how to process it, second one being capture format we are using and general overview of the dataset we are providing. First two are the same as <a href="https://localizoo.com/crocodl/">Lamar</a>, therefore we provide explanation of raw data nad capture format from that codebase.

### 1 Raw Data
If you want to read more about raw-data you can have a look [here](RAW-DATA.md).

### 2 Capture Data
If you want to read more about capture-data you can have a look [here](CAPTURE.md).

### 3 Dataset Overview

Our data is split into 7 locations. These are *HYDRO*, *SUCCULENT*, *ARCHE_GRANDE*, *DESIGN*, *ARCHE_D2*, *ARCHE_B3* and *ARCHE_B5*. Downloading the data using our instructions from Huggingface, you will have following data structure:

```
capture/
├── {location}/                 # Folder with data for each location
│    └── ...
├── {location}_spot.txt         # File that stores list of sequences for spot that are used in this location
├── {location}_hololens.txt     # File that stores list of sequences for hololens that are used in this location
└── {location}_phone.txt        # File that stores list of sequences for phone that are used in this location
```

where location can be any of these 7 listed ones. Each of the locations has same structure inside, in the previous overview denoted with '...'. Each of these 7 locations has the following structure:

```
{location}/                                 # Capture directory for a location
├── sessions/                               # Collection of Sessions
│   ├── combined_navvis/                    # Combined NavVis Session
│   │   ├── bt.txt                          # List of bluetooth measurements
│   │   ├── depths.txt                      # List of (rendered) depth maps, one per image
│   │   ├── images.txt                      # List of images with their paths
│   │   ├── pointclouds.txt                 # List of point clouds with their paths
│   │   ├── rigs.txt                        # Rigid geometric relationship between sensors
│   │   ├── sensors.txt                     # List of all sensors with specs
│   │   ├── trajectories.txt                # Pose for each (timestamp, sensor)
│   │   ├── wifi.txt                        # List of wifi measurements
|   |   ├── origins.txt                     # List of NavVis session origins (label and alignment pose) 
│   │   ├── raw_data/                       # Root path of images, point clouds, etc.
│   │   │   ├── images_undistorted/
│   │   │   ├── render/                     # Root path for the rgb and depth maps renderings
│   │   │   └── pointcloud.ply
│   │   └── proc/                           # Root path of processed assets
│   │       ├── meshes/                     # Collections of meshes
│   │       ├── alignment_global.txt        # Global transforms between sessions
│   │       ├── alignment_trajectories.txt  # Transform of each pose to a global reference
│   │       └── overlaps.h5                 # Overlap matrix from this session to others
|   |
│   ├── hl_{hololens_session_id}/           # Capture folder of the hololens device
│   │   ├── bt.txt                          # List of wifi sensor output with timestamps
│   │   ├── depths.txt                      # List of depth maps with their paths
│   │   ├── images.txt                      # List of images with their paths                       
│   │   ├── rigs.txt                        # List of rigs
│   │   ├── sensors.txt                     # List of sensors used for recording data
│   │   ├── trajectories.txt                # Original trajectories of the device
│   │   ├── wifi.txt                        # List of wifi sensor output with timestamps
│   │   ├── raw_data/
│   │   │   ├── images/                     # Folder where raw images are stored
│   │   │   └── depths/                     # Folder where raw depths are stored
│   │   └── proc/                           # Folder where processing pipeline saves the outputs
│   │       ├── TODO: data generated by map/query split            
│   │       ├── TODO: data generated by query pruning
│   │       └── alignment_trajectories.txt  # Trajectory after alignment to NavVis scan
|   |
│   ├── spot_{spot_session_id}/             # Capture folder of the spot device (similar structure to hololens)
│   │   └── ...
|   |
│   ├── ios_{phone_session_id}/             # Capture folder of the ios device (similar structure to hololens)
│   |   └── ...
│   |
│   ├── {device}_map/                       # Capture folder of the map session for given device (similar structure to hololens)
│   │   ├── bt.txt                          # List of wifi sensor output with timestamps
│   │   ├── depths.txt                      # List of depth maps with their paths
│   │   ├── images.txt                      # List of images with their paths     
│   │   ├── sensors.txt                     # List of sensors used for recording data
│   │   ├── trajectories.txt                # Original trajectories of the map
│   │   ├── trajectories_augumented.txt     # Augumented trajectories of the map, transformed for the challenge
│   |   ├── raw_data/   
|   |   |   └── {map_subsession_id}/        # Raw data of the session that goes into the map session
|   │   |        └── ...
│   |   └── proc/   
|   |       └── subsessions.txt             # List of session_ids that go into the map session   
│   |
|   └── {device}_query/                     # Capture folder of the query session for given device (similar structure to hololens)
│       ├── bt.txt                          # List of wifi sensor output with timestamps
│       ├── depths.txt                      # List of depth maps with their paths
│       ├── images.txt                      # List of images with their paths     
│       ├── sensors.txt                     # List of sensors used for recording data
│       ├── trajectories.txt                # Original trajectories of the map
│       ├── raw_data/   
|       |   └── {map_subsession_id}/        # Raw data of the session that goes into the map session
|       |        └── ...
│       └── proc/
|            ├── alignment_trajectories.txt # Trajectories of the alignment of query session to the ground truth
|            └── subsessions.txt            # List of session_ids that go into the map session   
|   
├── registration/                           # The data generated during alignment
│   ├── combined_navvis/
│   │   ├── feats-superpoint-n4096-r1024.h5 # Superpoint features of combined_navvis
│   │   ├── trajectory_refined.txt          # Trajectory generated during cross device refinment    
│   │   ├── global-feats-netvlad.h5         # Global netvlad features of combined_navvis
│   │   └── navvis_id_i/                    # Alignment of navvis_id_i w.r.t combined_navvis scans
│   │       └─ ...                          # Intermediate data for matching/registration
|   |
│   ├── hl_{hololens_session_id}/
│   │   ├── feats-superpoint-n4096-r1024.h5 # Superpoint features of hl_{hololens_session_id}
│   │   ├── trajectory_refined.txt          # Trajectory generated during cross device refinement    
│   │   ├── global-feats-netvlad.h5         # Global netvlad features of hl_{hololens_session_id}
│   │   ├── {combined_navvis}/              # Ground truth NavVis scan data folder
│   │   |   └─ ...                          # Intermediate data for ground truth NavVis scan data
│   │   └── {device}_{device_session_id}/   # Covisible sessions data folder for cross refinement
│   │       └─ ...                          # Intermediate data for cross refinement
|   |
│   ├── ios_{phone_session_id}/             # Registration folder of the ios device (similar structure to hololens)
│   |   └── ...
|   |
│   └── spot_{spot_session_id}/             # Registration folder of the spot device (similar structure to hololens)
│       └── ...
|   
├── visualization/                          # Visualization folder for the location
|   └─ ...                                  # All the processing visuzaliation data, such as query prunning or map/query split
|
├── transformation.txt                      # 4DOF transformation used to transform map trajectories for the challenge
|
├── {device}_map.txt                        # Sequence of session ids that go into a map for that device
|
└── {device}_query.txt                      # Sequence of session ids that go into a query for that device
```

You could find all of the location information, including session list per location, ground truth NavVis scan, map/query splits in the provided [locations sheet](locations_release.xlsx).